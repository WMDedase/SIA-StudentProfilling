import{_ as w,r as u,z as I,A as N,o as x,f as E,w as t,a as e,d as a,c as S,b as c,y as i,N as B,m as D,i as T,j as P,D as F,B as L}from"./index-BNY_wFJi.js";import{V as U,a as j,b as z,c as p,d as m,e as h,f as H}from"./VToolbar-DJvvMP_W.js";import{V as k,e as O}from"./lazy-D6cDBeqJ.js";import{V as b,c as V,a as C,b as M,d as A}from"./VCard-C_Nje8yU.js";import{V as W}from"./VContainer-ux1HTSd6.js";import{V as g,a as d}from"./VRow-BoLK9wl-.js";import{V as q,a as G}from"./VSpacer-n8xaCHEl.js";import"./VTextField-UJixJx_W.js";import"./ssrBoot-CcPqA_Mj.js";const J={__name:"ClinicTable",setup(o){const n=u(null),f=u([]),v=u(!0),l=u(null),_=[{title:"Complaint",key:"complaint"},{title:"Treatment",key:"treatment"},{title:"Time In",key:"time_in"},{title:"Time Out",key:"time_out"}];return I(async()=>{var s;try{const r=await N();console.log("API response:",r),n.value=r.student_profile,(s=r.student_profile)!=null&&s.consultation_record&&Array.isArray(r.student_profile.consultation_record)?(f.value=r.student_profile.consultation_record,console.log("Consultation record data:",f.value)):l.value="No consultation record data found"}catch(r){l.value="Failed to fetch current user",console.error("Error:",r)}finally{v.value=!1}}),(s,r)=>(x(),E(z,{headers:_,items:f.value,loading:v.value},{top:t(()=>[e(U,{flat:""},{default:t(()=>[e(j,{class:"text-h6 font-weight-black",style:{color:"#2F3F64"}},{default:t(()=>[a("Consultation Records")]),_:1})]),_:1})]),item:t(({item:y})=>[(x(),S("tr",{key:y.id},[c("td",null,i(y.complaint),1),c("td",null,i(y.treatment),1),c("td",null,i(y.time_in),1),c("td",null,i(y.time_out),1)]))]),"no-data":t(()=>[a(i(l.value||"No consultation records found."),1)]),_:1},8,["items","loading"]))}},K=w(J,[["__scopeId","data-v-52da9810"]]),Q={data(){return{dialog:!1,physicalExam:{height:"N/A",weight:"N/A",blood_pressure:"N/A",pulse_rate:"N/A",vision_left:"N/A",vision_right:"N/A"}}},methods:{async fetchStudentProfile(){try{const o=await N();if(console.log("Fetched user data:",o),o&&o.student_profile&&Array.isArray(o.student_profile.physical_exam)&&o.student_profile.physical_exam.length>0){const n=o.student_profile.physical_exam[0];this.physicalExam={height:n.height||"N/A",weight:n.weight||"N/A",blood_pressure:n.blood_pressure||"N/A",pulse_rate:n.pulse_rate||"N/A",vision_left:n.vision_left||"N/A",vision_right:n.vision_right||"N/A"}}else console.warn("Physical exam data not found or empty array")}catch(o){console.error("Failed to fetch student profile:",o.message)}},openDialog(){this.fetchStudentProfile(),this.dialog=!0}}},X=o=>(T("data-v-4db2b50b"),o=o(),P(),o),Y=X(()=>c("span",{class:"material-icons",style:{position:"relative",right:"5px",top:"5px"}}," medical_services ",-1));function Z(o,n,f,v,l,_){const s=B("v-list-item-content");return x(),E(G,{modelValue:l.dialog,"onUpdate:modelValue":n[1]||(n[1]=r=>l.dialog=r),"max-width":"700"},{activator:t(({props:r})=>[e(k,D({class:"record-btn text-none font-weight-regular",color:"var(--dark)","prepend-icon":"mdi-medical-bag"},r,{style:{color:"white"},onClick:_.openDialog}),{default:t(()=>[a(" Physical Examination Records ")]),_:2},1040,["onClick"])]),default:t(()=>[e(b,null,{default:t(()=>[e(V,{class:"fw-bold",style:{padding:"1.2rem","background-color":"var(--dark)",color:"white","border-radius":"3px"}},{default:t(()=>[Y,a(" Physical Examination Record ")]),_:1}),e(C,null,{default:t(()=>[e(W,null,{default:t(()=>[e(g,null,{default:t(()=>[e(d,{cols:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(s,null,{default:t(()=>[e(m,null,{default:t(()=>[a("Height:")]),_:1}),e(h,null,{default:t(()=>[a(i(l.physicalExam.height),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(s,null,{default:t(()=>[e(m,null,{default:t(()=>[a("Weight:")]),_:1}),e(h,null,{default:t(()=>[a(i(l.physicalExam.weight),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(d,{cols:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(s,null,{default:t(()=>[e(m,null,{default:t(()=>[a("Blood Pressure:")]),_:1}),e(h,null,{default:t(()=>[a(i(l.physicalExam.blood_pressure),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(s,null,{default:t(()=>[e(m,null,{default:t(()=>[a("Pulse Rate:")]),_:1}),e(h,null,{default:t(()=>[a(i(l.physicalExam.pulse_rate),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(d,{cols:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(s,null,{default:t(()=>[e(m,null,{default:t(()=>[a("Vision (Left):")]),_:1}),e(h,null,{default:t(()=>[a(i(l.physicalExam.vision_left),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{cols:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(s,null,{default:t(()=>[e(m,null,{default:t(()=>[a("Vision (Right):")]),_:1}),e(h,null,{default:t(()=>[a(i(l.physicalExam.vision_right),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(H),e(M,null,{default:t(()=>[e(q),e(k,{text:"Close",variant:"plain",onClick:n[0]||(n[0]=r=>l.dialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])}const $=w(Q,[["render",Z],["__scopeId","data-v-4db2b50b"]]),R=o=>(T("data-v-eccfd3ca"),o=o(),P(),o),ee=F('<div class="top-container" data-v-eccfd3ca><h1 class="bg-title" data-v-eccfd3ca>CLINIC</h1><div class="studentProfile" data-v-eccfd3ca><span class="material-icons" data-v-eccfd3ca>medical_information</span><span class="text fw-bolder" data-v-eccfd3ca>Clinic</span></div></div><hr data-v-eccfd3ca>',2),te={class:"bottom-container"},le={class:"left"},ae=R(()=>c("span",{class:"material-icons"}," assignment_turned_in",-1)),oe={class:"physical-btn"},se=R(()=>c("span",{class:"material-icons"}," playlist_add_check",-1)),ne={__name:"ClinicStatus",setup(o){const n=u(null),f=u(!0),v=u(null),l=u("Not Cleared");return I(async()=>{var _;try{const s=await N();console.log("API response:",s),n.value=s.student_profile,(_=s.student_profile)!=null&&_.physical_exam&&Object.keys(s.student_profile.physical_exam).length>0?l.value="Cleared":l.value="Not Cleared"}catch(s){v.value="Failed to fetch current user",console.error("Error:",s)}finally{f.value=!1}}),(_,s)=>(x(),S("main",null,[ee,c("div",te,[c("div",le,[e(g,null,{default:t(()=>[e(d,{col:"6"},{default:t(()=>[e(b,{class:"top-left mx-auto mr-5",elevation:"3"},{default:t(()=>[e(A,null,{default:t(()=>[e(V,{class:"fw-bold",style:{color:"var(--dark)"}},{default:t(()=>[ae,a(" Clinic Status ")]),_:1})]),_:1}),e(C,{class:"clinic-status",style:L({color:l.value==="Cleared"?"green":"#dbc501"})},{default:t(()=>[e(O,{color:l.value==="Cleared"?"green":"#dbc501",class:"status-icon"},{default:t(()=>[a(i(l.value==="Cleared"?"mdi-check-circle":"mdi-alert-circle"),1)]),_:1},8,["color"]),a(" "+i(l.value),1)]),_:1},8,["style"])]),_:1})]),_:1}),e(d,{col:"6"},{default:t(()=>[c("div",oe,[e($)])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(b,{class:"mx-auto mr-5 bottom-left",elevation:"3","max-width":"auto"},{default:t(()=>[e(A,null,{default:t(()=>[e(V,{class:"fw-bold",style:{color:"var(--dark)"}},{default:t(()=>[se,a(" Consultation History ")]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(K)]),_:1})]),_:1})]),_:1})]),_:1})])])]))}},he=w(ne,[["__scopeId","data-v-eccfd3ca"]]);export{he as default};
