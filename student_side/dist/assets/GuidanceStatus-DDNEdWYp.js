import{r as o,z as y,A as V,o as v,f as S,w as e,a,d as i,c as C,b as c,y as r,_ as w,D as G,B as N,i as I,j as T}from"./index-BNY_wFJi.js";import{V as A,a as D,b as B}from"./VToolbar-DJvvMP_W.js";import{V as E,a as p}from"./VRow-BoLK9wl-.js";import{V as m,d as h,c as g,a as b}from"./VCard-C_Nje8yU.js";import{e as F}from"./lazy-D6cDBeqJ.js";import"./VTextField-UJixJx_W.js";import"./ssrBoot-CcPqA_Mj.js";const k={__name:"GuidanceViolation",setup(u){const n=o([]),f=o([{title:"Title",align:"start",key:"title"},{title:"Description",key:"description"},{title:"Sanction",key:"sanction"},{title:"Date",key:"date"}]),_=o(!0),s=o(null);return y(async()=>{var t;try{const d=await V();console.log("API response:",d);const l=(t=d.student_profile)==null?void 0:t.guidance;Array.isArray(l)?n.value=l:l?n.value=[l]:s.value="No guidance record found",console.log("Student guidance data:",n.value)}catch(d){s.value="Failed to fetch current user",console.error("Error:",d)}finally{_.value=!1}}),(t,d)=>(v(),S(B,{headers:f.value,items:n.value,loading:_.value},{top:e(()=>[a(A,{flat:""},{default:e(()=>[a(D,{class:"text-h6 font-weight-black",style:{color:"#2F3F64"}},{default:e(()=>[i(" Guidance Records ")]),_:1})]),_:1})]),item:e(({item:l})=>[(v(),C("tr",{key:l.cases_id},[c("td",null,r(l.case_title),1),c("td",null,r(l.case_description),1),c("td",null,r(l.case_sanction),1),c("td",null,r(l.case_date),1)]))]),"no-data":e(()=>[i(r(s.value||"No guidance records found."),1)]),_:1},8,["headers","items","loading"]))}},x=u=>(I("data-v-55b49c84"),u=u(),T(),u),P=G('<div class="top-container" data-v-55b49c84><h1 class="bg-title" data-v-55b49c84>GUIDANCE</h1><div class="studentProfile" data-v-55b49c84><span class="material-icons" data-v-55b49c84>chat</span><span class="text fw-bolder" data-v-55b49c84>Guidance</span></div></div><hr data-v-55b49c84>',2),R={class:"bottom-container"},U={class:"left"},j=x(()=>c("span",{class:"material-icons"},"assignment_turned_in",-1)),z=x(()=>c("span",{class:"material-icons"},"playlist_add_check",-1)),q={components:{GuidanceViolation:k},data(){return{}}},M=Object.assign(q,{__name:"GuidanceStatus",setup(u){const n=o(null),f=o(!0),_=o(null),s=o("Not Cleared");return y(async()=>{try{const t=await V();console.log("API response:",t),t.student_profile?(n.value=t.student_profile,!t.student_profile.guidance||t.student_profile.guidance.length===0?s.value="Cleared":s.value=t.student_profile.guidance.case_status===1?"Cleared":"Not Cleared",console.log("Current user data:",n.value)):(_.value="No student data found",s.value="Cleared")}catch(t){_.value="Failed to fetch current user",console.error("Error:",t),s.value="Cleared"}finally{f.value=!1}}),(t,d)=>(v(),C("main",null,[P,c("div",R,[c("div",U,[a(E,null,{default:e(()=>[a(p,{col:"6"},{default:e(()=>[a(m,{class:"mx-auto mr-5 top-left",elevation:"3"},{default:e(()=>[a(h,null,{default:e(()=>[a(g,{class:"fw-bold",style:{color:"var(--dark)"}},{default:e(()=>[j,i(" Guidance Status ")]),_:1})]),_:1}),a(b,{style:N({color:s.value==="Cleared"?"green":"#dbc501"}),class:"guidance-status"},{default:e(()=>[a(F,{class:"status-icon"},{default:e(()=>[i(r(s.value==="Cleared"?"mdi-check-circle":"mdi-alert-circle"),1)]),_:1}),i(" "+r(s.value),1)]),_:1},8,["style"])]),_:1})]),_:1}),a(p,{col:"6"}),a(p,{cols:"12"},{default:e(()=>[a(m,{class:"mx-auto mr-5 bottom-left",elevation:"3","max-width":"auto"},{default:e(()=>[a(h,null,{default:e(()=>[a(g,{class:"fw-bold",style:{color:"var(--dark)"}},{default:e(()=>[z,i(" Guidance Requirements ")]),_:1})]),_:1}),a(b,null,{default:e(()=>[a(k)]),_:1})]),_:1})]),_:1})]),_:1})])])]))}}),W=w(M,[["__scopeId","data-v-55b49c84"]]);export{W as default};
