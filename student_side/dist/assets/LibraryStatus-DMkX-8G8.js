import{r as n,z as k,A as g,o as f,f as V,w as e,a,d,c as B,b as r,y as l,_ as S,D as L,B as N,C as I,i as D,j as T}from"./index-BNY_wFJi.js";import{V as A,a as P,b as R}from"./VToolbar-DJvvMP_W.js";import{V as F,a as v}from"./VRow-BoLK9wl-.js";import{V as b,d as y,c as h,a as w}from"./VCard-C_Nje8yU.js";import{e as E}from"./lazy-D6cDBeqJ.js";import"./VTextField-UJixJx_W.js";import"./ssrBoot-CcPqA_Mj.js";const x={__name:"LibraryBorrowed",setup(u){const t=n([]),p=n([{title:"Book Name",value:"book_title"},{title:"Book Status",value:"borrow_status"},{title:"Due Date",value:"return_duedate"},{title:"Return Date",value:"return_date"}]),i=n(!0),o=n(null),m=_=>({0:"Borrowed",1:"Overdue",2:"Returned",3:"Damaged",4:"Lost",5:"Damaged Payment",6:"Lost Payment",7:"Overdue Pay"})[_]||"Unknown Status";return k(async()=>{var _;try{const c=await g();console.log("API response:",c);const s=(_=c.student_profile)==null?void 0:_.borrowed;Array.isArray(s)?t.value=s:s?t.value=[s]:o.value="No borrowed books found",console.log("Borrowed books data:",t.value)}catch(c){o.value="Failed to fetch current user",console.error("Error:",c)}finally{i.value=!1}}),(_,c)=>(f(),V(R,{headers:p.value,items:t.value,loading:i.value},{top:e(()=>[a(A,{flat:""},{default:e(()=>[a(P,{class:"text-h6 font-weight-black",style:{color:"#2F3F64"}},{default:e(()=>[d(" Borrowed Books ")]),_:1})]),_:1})]),item:e(({item:s})=>[(f(),B("tr",{key:s.borrow_id},[r("td",null,l(s.book_title),1),r("td",null,l(m(s.borrow_status)),1),r("td",null,l(s.return_duedate),1),r("td",null,l(s.return_date||"N/A"),1)]))]),"no-data":e(()=>[d(l(o.value||"No borrowed books found."),1)]),_:1},8,["headers","items","loading"]))}},C=u=>(D("data-v-0e8f0afc"),u=u(),T(),u),M=L('<div class="top-container" data-v-0e8f0afc><h1 class="bg-title" data-v-0e8f0afc>LIBRARY</h1><div class="studentProfile" data-v-0e8f0afc><span class="material-icons" data-v-0e8f0afc>menu_book</span><span class="text fw-bolder" data-v-0e8f0afc>Library</span></div></div><hr data-v-0e8f0afc>',2),O={class:"bottom-container"},U={class:"left"},j=C(()=>r("span",{class:"material-icons"}," assignment_turned_in",-1)),z=C(()=>r("span",{class:"material-icons"}," playlist_add_check",-1)),q={components:{LibraryBorrowed:x},data(){},computed:{}},Y=Object.assign(q,{__name:"LibraryStatus",setup(u){const t=n(null),p=n(!0),i=n(null);return k(async()=>{try{const o=await g();console.log("API response:",o),console.log(o.student_profile),t.value=o.student_profile,o.student_profile&&o.student_profile.length>0?console.log("Current user data:",t.value):i.value="No student data found"}catch(o){i.value="Failed to fetch current user",console.error("Error:",o)}finally{p.value=!1}}),(o,m)=>(f(),B("main",null,[M,r("div",O,[r("div",U,[a(F,null,{default:e(()=>[a(v,{col:"6"},{default:e(()=>[a(b,{class:"top-left mx-auto mr-5",elevation:"3"},{default:e(()=>[a(y,null,{default:e(()=>[a(h,{class:"fw-bold",style:{color:"var(--dark)"}},{default:e(()=>[j,d(" Library Status ")]),_:1})]),_:1}),t.value?(f(),V(w,{key:0,class:"status",style:N({color:t.value.library.status==="Cleared"?"green":"#dbc501"})},{default:e(()=>[a(E,{color:t.value.library.status==="Cleared"?"green":"#dbc501",class:"status-icon"},{default:e(()=>[d(l(t.value.library.status==="Cleared"?"mdi-check-circle":"mdi-alert-circle"),1)]),_:1},8,["color"]),d(" "+l(t.value.library.status),1)]),_:1},8,["style"])):I("",!0)]),_:1})]),_:1}),a(v,{col:"6"}),a(v,{cols:"12"},{default:e(()=>[a(b,{class:"mx-auto mr-5 bottom-left",elevation:"3","max-width":"auto"},{default:e(()=>[a(y,null,{default:e(()=>[a(h,{class:"fw-bold",style:{color:"var(--dark)"}},{default:e(()=>[z,d(" Library Requirements ")]),_:1})]),_:1}),a(w,null,{default:e(()=>[a(x)]),_:1})]),_:1})]),_:1})]),_:1})])])]))}}),X=S(Y,[["__scopeId","data-v-0e8f0afc"]]);export{X as default};
